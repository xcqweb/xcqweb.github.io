(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207f0a"],{a357:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"moduleManage"},[o("div",{staticClass:"top_operate"},[o("i-input",{staticStyle:{width:"300px","margin-right":"30px"},attrs:{search:"","enter-button":"",size:"large",placeholder:"模块名,说明..."},on:{"on-search":e.search,"on-enter":e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),o("i-button",{attrs:{size:"large",icon:"ios-add",type:"primary"},on:{click:function(t){e.addModuleStatus=!0}}},[e._v("新增权限模块")])],1),o("i-table",{directives:[{name:"show",rawName:"v-show",value:e.dataModule.length,expression:"dataModule.length"}],attrs:{border:"",stripe:"",loading:e.isLoading,columns:e.columnsModule,data:e.dataModule}}),o("i-page",{staticStyle:{margin:"20px 0"},attrs:{total:e.totalCount,cureent:e.currentPage,"show-total":"","page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.goPage}}),o("i-modal",{attrs:{title:"新增模块"},model:{value:e.addModuleStatus,callback:function(t){e.addModuleStatus=t},expression:"addModuleStatus"}},[o("div",{attrs:{slot:"footer"},slot:"footer"},[o("i-button",{on:{click:function(t){e.addModuleStatus=!1}}},[e._v("取消")]),o("i-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.addModule}},[e._v("确定")])],1),o("div",{staticClass:"center_g marginTop10"},[o("p",{staticClass:"label_g"},[e._v("模块名称")]),o("i-input",{attrs:{maxlength:8,placeholder:"请输入模块名..."},model:{value:e.moduleAdd.moduleName,callback:function(t){e.$set(e.moduleAdd,"moduleName",t)},expression:"moduleAdd.moduleName"}})],1),o("div",{staticClass:"center_g marginTop10"},[o("p",{staticClass:"label_g"},[e._v("模块说明")]),o("i-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入模块说明..."},model:{value:e.moduleAdd.moduleDirection,callback:function(t){e.$set(e.moduleAdd,"moduleDirection",t)},expression:"moduleAdd.moduleDirection"}})],1)]),o("i-modal",{attrs:{title:e.modalTitle},model:{value:e.editModuleStatus,callback:function(t){e.editModuleStatus=t},expression:"editModuleStatus"}},[o("div",{attrs:{slot:"footer"},slot:"footer"},[o("i-button",{on:{click:function(t){e.editModuleStatus=!1}}},[e._v("取消")]),o("i-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.moduleEditHandler}},[e._v("确定")])],1),o("div",{staticClass:"center_g marginTop10"},[o("p",{staticClass:"label_g"},[e._v("模块名称")]),o("i-input",{attrs:{maxlength:8,placeholder:"请输入模块名..."},model:{value:e.moduleEdit.moduleName,callback:function(t){e.$set(e.moduleEdit,"moduleName",t)},expression:"moduleEdit.moduleName"}})],1),o("div",{staticClass:"center_g marginTop10"},[o("p",{staticClass:"label_g"},[e._v("模块说明")]),o("i-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入模块说明..."},model:{value:e.moduleEdit.moduleDirection,callback:function(t){e.$set(e.moduleEdit,"moduleDirection",t)},expression:"moduleEdit.moduleDirection"}})],1)])],1)},d=[],a=(o("7f7f"),o("15b8")),l=o.n(a),n=o("880a"),u={data:function(){var e=this;return{loading:!1,modalTitle:"",addModuleStatus:!1,searchKey:"",moduleAdd:{moduleName:"",moduleDirection:""},editModuleStatus:!1,moduleEdit:{moduleName:"",moduleDirection:"",id:"",index:""},isLoading:!1,totalCount:0,currentPage:1,pageSize:10,dataModule:[],columnsModule:l()([{title:"序号",width:80,type:"index",render:function(e,t){return e("div",[e("Icon",{props:{type:"person"}}),e("strong",t.row.name)])}},{title:"模块名称",key:"ModuleName"},{title:"模块说明",key:"Directions"},{title:"操作",key:"action",align:"center",render:function(t,o){return t("div",[t("i-button",{props:{type:"primary",icon:"md-create"},style:{margin:"8px"},on:{click:function(){e.edit(o)}}},"编辑"),t("i-button",{props:{type:"error",icon:"ios-trash-outline"},style:{margin:"8px"},on:{click:function(){e.remove(o)}}},"删除")])}}])}},activated:function(){this.getModuleList()},methods:{goPage:function(e){this.currentPage=e,this.getModuleList()},search:debounce(function(){this.getModuleList()},600,{leading:!0}),getModuleList:function(){var e=this;Object(n["z"])({key:this.searchKey,currentPage:this.currentPage,pageSize:this.pageSize}).then(function(t){e.dataModule=t.data.moduleList,e.totalCount=t.data.total})},addModule:function(){var e=this;this.moduleAdd.moduleName?(this.loading=!0,Object(n["b"])({moduleName:this.moduleAdd.moduleName,direction:this.moduleAdd.moduleDirection}).then(function(t){e.loading=!1,e.addModuleStatus=!1,e.moduleAdd={moduleName:"",moduleDirection:""},e.getModuleList()})):this.$Message.warning({content:"权限模块名称不能为空!",duration:3})},edit:function(e){this.modalTitle="编辑模块 - ".concat(e.row.ModuleName),this.editModuleStatus=!0,this.moduleEdit={moduleName:e.row.ModuleName,moduleDirection:e.row.Directions,id:e.row.ModuleId,index:e.index}},moduleEditHandler:function(){var e=this;this.moduleEdit.moduleName?(this.loading=!0,Object(n["p"])({moduleName:this.moduleEdit.moduleName,direction:this.moduleEdit.moduleDirection,id:this.moduleEdit.id}).then(function(t){e.loading=!1,e.editModuleStatus=!1,e.$set(e.dataModule[e.moduleEdit.index],"ModuleName",e.moduleEdit.moduleName),e.$set(e.dataModule[e.moduleEdit.index],"Directions",e.moduleEdit.moduleDirection)})):this.$Message.warning({content:"权限模块名称不能为空!",duration:3})},remove:function(e){var t=this;this.$Modal.confirm({title:"提示",loading:!0,closable:!0,content:"<p>确定要要删除 <span style='color:#2d8cf0;'>".concat(e.row.ModuleName,"</span> 模块?</p>"),onOk:function(){Object(n["k"])({id:e.row.ModuleId}).then(function(o){t.$Modal.remove(),t.dataModule.splice(e.index,1)})}})}}},s=u,r=o("2877"),c=Object(r["a"])(s,i,d,!1,null,null,null);t["default"]=c.exports}}]);